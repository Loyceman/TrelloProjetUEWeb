<!doctype html>
<html lang="fr">
<head>
    <title>Trell'IMT - Home</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Styles -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"/>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css"/>

    <!-- fichier CSS -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/header.css') }}">

    {% block css %}
    {% endblock %}

    <!-- Scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

</head>

<body>
<nav class="navbar navbar-expand-lg navbar-fixed-top color-nav">
    <div class="container-fluid header">
        <a class="navbar-brand header-zone layout-center clickable" href="{{ url_for('dashboard') }}">
            <img class="icon" src="{{ url_for("static", filename="img/home-icon.svg") }}" alt="Home"/>
            <span class="text-title">TRELL'IMT</span>
        </a>
        <a class="header-zone header-element clickable nav-link" href="{{ url_for('show_database') }}">
            <span class="text-header">Database</span>
        </a>


        <div class="flex-grow-1"></div>
        <div class="header-zone header-layout-right">
                    <span id="popover-notifs" tabindex="0" class="header-element clickable round"
                          data-bs-toggle="popover" data-bs-placement="bottom" data-bs-custom-class="custom-popover"
                          data-bs-content="This is the content of the popover.">
                        <img class="icon-clickable" src="{{ url_for("static", filename="img/bell-icon.svg") }}"
                             alt="Notifs"/>
                    </span>
            <span id="popover-profile" tabindex="0" class="header-element clickable round" data-bs-toggle="popover"
                  data-bs-placement="bottom" data-bs-custom-class="custom-popover"
                  data-bs-content="This is the content of the popover. This is the content of the popover. This is the content of the popover.">
                        <img class="icon-clickable" src="{{ url_for("static", filename="img/profile-icon.svg") }}"
                             alt="Profile"/>
                    </span>
        </div>

    </div>
</nav>

{% block content %}
{% endblock %}

<div hidden>
    <div id="popover-profile-content">
        <section>
            <div class="popover-zone layout-popover">
                    <span class="popover-element text-normal">
                        Bonjour {{ current_user.get_id() }}
                    </span>
                <a class="popover-element text-normal nav-link clickable clickable-light">
                    Gérer mon compte
                </a>
                <span class="popover-separator"></span>
                <a class="popover-element text-normal fw-bold nav-link clickable clickable-light"
                   href="{{ url_for('logout') }}">
                    Se déconnecter
                    <img class="icon-popover" src="{{ url_for("static", filename="img/logout-icon.svg") }}"
                         alt="Logout"/>

                </a>
            </div>

        </section>
    </div>

    <div id="popover-notifs-content">
        <section>
            <div class="popover-zone layout-popover">
                    <span class="popover-element">
                        Aucune notification
                    </span>
            </div>
        </section>
    </div>
</div>

<script>
    var options_profile = {
        html: true,
        title: "Votre Profil",
        content: document.getElementById('popover-profile-content'),
        trigger: 'focus'
    }

    var options_notifs = {
        html: true,
        title: "Notifications",
        content: document.getElementById('popover-notifs-content'),
        trigger: 'focus',
    }
    var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
    var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
        var options = options_profile
        if (popoverTriggerEl.id === "popover-notifs") {
            options = options_notifs
        }
        return new bootstrap.Popover(popoverTriggerEl, options)
    })

    {#const popover = new bootstrap.Popover('.popover-dismiss')#}
    {#var exampleEl = document.getElementById('example')#}


</script>

</body>
</html>